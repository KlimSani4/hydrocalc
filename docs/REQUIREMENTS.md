# Требования к HydroCalc (из курсовой работы)

## Формула расчёта (МР 2.3.1.0253-21)

```
V = Σ(Nᵢ × Vᵢ) × Ks × Ka
```

где:
- V — суммарная потребность в воде (литров в сутки)
- Nᵢ — количество человек в возрастной группе i
- Vᵢ — норма потребления для группы i
- Ks — сезонный коэффициент
- Ka — коэффициент активности

## Возрастные нормы

| Группа | Возраст | Норма (л/сут) |
|--------|---------|---------------|
| junior | 7-10 лет | 1.5-1.7 (используем 1.6) |
| middle | 11-14 лет | 1.7-2.0 (используем 1.85) |
| senior | 15-17 лет | 2.0-2.3 (используем 2.15) |
| staff | 18+ лет | 2.0-2.5 (используем 2.25) |

## Коэффициенты

### Сезонные (Ks)
- cold (холодный): 1.0
- warm (тёплый): 1.3

### Активности (Ka)
- normal (обычный день): 1.0
- sport (физкультура): 1.5
- trip (поход/соревнования): 2.0

## Компоненты системы

### 1. Backend (FastAPI + PostgreSQL)
- [x] Регистрация пользователей
- [x] Аутентификация (JWT)
- [x] Расчёт нормы воды
- [x] История расчётов
- [ ] Интеграция Sentry
- [ ] Деплой на Render

### 2. Web-приложение (React + Vite + Tailwind)
- [x] Экран входа
- [x] Экран регистрации
- [x] Экран калькулятора
- [x] Экран истории
- [ ] Интеграция Яндекс Метрики

### 3. Telegram-бот (aiogram 3)
- [x] /start - приветствие
- [x] /help - справка
- [x] /calculate - расчёт (FSM)
- [ ] /history - история (опционально, бот анонимный)

### 4. Мобильное приложение (React Native)
- [x] Экран входа
- [x] Экран регистрации
- [x] Экран калькулятора
- [x] Экран истории
- [x] Автономная работа

### 5. Внешние интеграции
- [ ] Sentry (мониторинг ошибок)
- [ ] Яндекс Метрика (статистика web)
  - Цели: calculation_created, user_registered, export_pdf

### 6. Инфраструктура
- [x] Docker Compose (локальная разработка)
- [x] Dockerfile backend
- [x] Dockerfile bot
- [ ] Деплой на Render

## Распределение авторов

| Директория | Автор | Email |
|------------|-------|-------|
| mobile/, интеграции | Ткач Владимир | EpikBulldogg@mail.ru |
| web/, bot/ | Горячев Владислав | ononemn@gmail.com |
| backend/, docker/, k8s/ | Арутюнян Феликс | haffk@duck.com |

## Даты коммитов

Коммиты распределены с 5 по 17 января 2025 года.
